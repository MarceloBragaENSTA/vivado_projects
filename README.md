# Vivado Projects  

Git versioning for **Vivado projects of EmulDemux**  
**Vivado Version: 2023.2**  

This workflow is based on **autogenerated Tcl scripts**, making it **dependent on the Vivado version**.  

## Workflow  

1. **Clone the repository**:  
   ```sh
   git clone git@github.com:MarceloBragaENSTA/vivado_projects.git
   ```  
2. **Create a new project**:  
   ```sh
   ./make_new_project.sh <new_project>
   ```  
   This will create a copy of **base_vivado_project** (an **EmulDemux_SimpleDMA** project).  
3. **Navigate to the new project directory**:  
   ```sh
   cd <new_project>
   ```  
4. **Generate the Vivado project**:  
   ```sh
   vivado -mode batch -source <new_project>.tcl
   ```  
   This will create the **project and its block design**.  

## Folder Structure  

The project follows this structure:  

```
├── base_vivado_project.tcl
├── bd
├── constraints
│   ├── FMC_pins.xdc
│   └── _i_io.xdc
├── src
├── tb
└── vitis_sw
    ├── README.md
    ├── startIP_ddr.c
    └── usr
```

## Tips  

- Verify in the autogenerated **Tcl file** that there are **no local dependencies** tied to a specific project.  
- The **Vivado project** will only be created **after running the script**.  
- Change the **IP repository path** in Vivado:  
  - **Vivado → Tools → Settings → Project Settings → IP Default IP Location**  
  - Set this to the path of **ip_repo**  
- When generating a Tcl script:  
  - **Vivado → File → Project → Write Tcl**  
  - **Select:** *Recreate Block Designs using Tcl*  
- This project **requires board files from Trenz**, but since they are large (MB range), they are **not included in Git**.  

## Git Commands  

To **commit and push changes**:  
```sh
git add -A
git commit -m "message"
git push -f origin main
```  

